// Test: Record with @implements(Drop) has move semantics
// Expected: use-after-move error

@implements(Drop)
record Handle {
  public id: i32;

  drop(&mut self): void {
    return;
  }
}

function consume(h: Handle): void {
  return;
}

function main(): i32 {
  let h: Handle = Handle { id: 10 };
  consume(h);
  return h.id;
}
