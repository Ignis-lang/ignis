---
source: crates/ignis_codegen_c/tests/golden_c.rs
expression: c_code
---
#include <stdio.h>
#include <stdlib.h>
#include "types.h"

// Type forward declarations
typedef struct Result____i32____str Result____i32____str;

// Type definitions
struct Result____i32____str {
    u32 tag;
    union {
        struct {
            i32 field_0;
        } variant_0;
        struct {
            const char* field_0;
        } variant_1;
    } payload;
};
#define Result____i32____str_OK 0
#define Result____i32____str_ERROR 1

struct Result____i32____str __ignis_user_main(void);

struct Result____i32____str __ignis_user_main(void) {
    // Locals
    struct Result____i32____str l0; // _

    // Temporaries
    struct Result____i32____str* t0;
    struct Result____i32____str t1;

entry_0:
    t0 = &l0;
    (t0)->tag = 0;
    (t0)->payload.variant_0.field_0 = 42;
    t1 = l0;
    return t1;
}

int main(int argc, char** argv) {
    (void)argc;
    (void)argv;
    struct Result____i32____str __ignis_main_result = __ignis_user_main();
    if (__ignis_main_result.tag == 0) {
        return __ignis_main_result.payload.variant_0.field_0;
    }
    fprintf(stderr, "Error: %s\n", __ignis_main_result.payload.variant_1.field_0);
    exit(101);
}
